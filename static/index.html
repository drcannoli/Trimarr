<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/static/favicon.ico">
  <title>Trimarr</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <aside class="sidebar">
    <div class="logo">Trimarr</div>
    <nav>
      <a href="#" class="nav-item active" data-tab="series">Series</a>
      <a href="#" class="nav-item" data-tab="logs">Logs</a>
    </nav>
    <div class="sidebar-footer">
      <span id="status" class="status">checking...</span>
    </div>
  </aside>

  <main class="content">
    <div id="series-view">
    <header class="toolbar">
      <h1>Series</h1>
      <div class="toolbar-actions">
        <button type="button" id="select-all-btn">Select All</button>
        <button type="button" id="dry-run-btn">Dry Run</button>
        <button type="button" id="execute-btn">Execute Cleanup</button>
      </div>
    </header>

    <p class="help-text">
      Tag series in Sonarr with <code>trimarr_retain_X_season</code> or <code>trimarr_retain_X_episodes</code> to set per-series retention. Latest X seasons or episodes are kept; older content is deleted and unmonitored.
    </p>

    <div id="loading" class="loading">Loading series...</div>
    <div id="empty" class="empty hidden">No series with trimarr tags. Add tags like <code>trimarr_retain_2_season</code> to series in Sonarr.</div>

    <div id="table-wrap" class="table-wrap hidden">
      <table class="series-table">
        <thead>
          <tr>
            <th class="col-check"><input type="checkbox" id="select-all" title="Select all"></th>
            <th class="col-poster"></th>
            <th class="col-title">Series Title</th>
            <th class="col-network">Network</th>
            <th class="col-quality">Quality Profile</th>
            <th class="col-retention">Retention</th>
            <th class="col-episodes">Episodes</th>
            <th class="col-action">Action</th>
          </tr>
        </thead>
        <tbody id="table-body"></tbody>
      </table>
    </div>

    <div id="result-toast" class="toast hidden"></div>
    </div>

    <div id="logs-view" class="hidden">
      <header class="toolbar">
        <h1>Logs</h1>
        <button type="button" id="refresh-logs-btn">Refresh</button>
      </header>
      <pre id="logs-content" class="logs-content"></pre>
    </div>
  </main>

  <script src="/static/app.js"></script>
</body>
</html>
